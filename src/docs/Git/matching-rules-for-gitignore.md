# gitignore 的匹配规则

<article-info/>

## 文件或文件夹名称

![/d38efb98-c344-802d-9f81-af9f659bf591.png](/d38efb98-c344-802d-9f81-af9f659bf591.png)

所有名叫 dist 的文件和文件夹都会被匹配，无论被埋的多深。

## 带斜杠，有 3 个位置，前/中/后

斜杠表示，从当前 `.gitignore` 文件所在位置出发。

### 前的时候

![/44ad9b77-a2a3-f6cd-18a9-975c7b82bed4.png](/44ad9b77-a2a3-f6cd-18a9-975c7b82bed4.png)

也就是同级目录下的 dist，当然也可能是文件夹和文件。

把 .gitignore 移到 b 文件下，效果如下。

![/0d6eeed5-a6be-0851-950c-d9681428db70.png](/0d6eeed5-a6be-0851-950c-d9681428db70.png)

### 中间的时候

![/7f04f046-965e-2e80-bf0c-0848b064b005.png](/7f04f046-965e-2e80-bf0c-0848b064b005.png)

也就是找到 a 目录 下的 dist 文件或者文件夹了。

### 末尾的时候

![/e3f6d7b3-d1f5-c8c1-5ab9-815cd1cf5a29.png](/e3f6d7b3-d1f5-c8c1-5ab9-815cd1cf5a29.png)

表示只匹配名为 dist 的文件夹。其中 a 下面的 dist 文件夹被排除了，但是 b 下面的 dist 文件没有。

## 功能符号的使用

### 星号：`*`

![/2bc53007-6f73-8fc2-46bd-e4fb31e1768e.png](/2bc53007-6f73-8fc2-46bd-e4fb31e1768e.png)

`*` 表示除斜杠外的所有，其中 `1.jpg` 和 `2.jpg` 全被被排除了。

那什么叫排除斜杠呢，如下例子。

![/cd15d9b4-85dc-2df8-3e07-20880faac27e.png](/cd15d9b4-85dc-2df8-3e07-20880faac27e.png)

其中 a 文件夹下面的 `1.jpg` 没有被排除。原因是：

`因为 * 不匹配斜杠`

而 `1.jpg` 的完整路径是：`a/dist/1.jpg`

而上面写的是 `a/*.jpg`，其中的斜杠匹配不了。

### 两个星号：`**`

那如果要匹配 a 目录下所有的 jpg，不管埋的多深。这里需要两个星号：`**`

![/bfce70ba-b258-6259-4319-a3e1836b4caf.png](/bfce70ba-b258-6259-4319-a3e1836b4caf.png)

如上，表示 a 目录下无论多少层级都可以匹配了。

### 问号：`?`

![/a1d2787d-652f-7fe4-a014-3a588824f6c8.png](/a1d2787d-652f-7fe4-a014-3a588824f6c8.png)

问号：`?` 表示一个字符。其中，名叫 1.jpg 的文件被忽略，但是 11.jpg 就不会

`反言之，两个问号表示两个字符`

![/a1699467-1045-41fa-52e8-cf2e66ad1f16.png](/a1699467-1045-41fa-52e8-cf2e66ad1f16.png)

### 正则

![/dc7f7b9c-755e-7e1e-00ef-632e8cfd047b.png](/dc7f7b9c-755e-7e1e-00ef-632e8cfd047b.png)

`[0-9]` 在这里表示一个字符，取值为 0-9 ，因此 11.jpg 就不行，a.jpg 也不行。

### 感叹号：`!`

![/bbf785af-71ce-ae54-766b-6a623e3639be.png](/bbf785af-71ce-ae54-766b-6a623e3639be.png)

这里我全匹配了 a 下面的所有带有后缀的文件，但是 `!` 表示除了。那所以 1.txt 在前面的规则基础上不被排除了。

这样做的还是很有实际意义的。

`因为如果这个 a 目录是一个静态资源，不用感叹号去排除其中的一个文件，那整个目录都不会被跟踪，在服务器上，就没有 a 这个目录，有可能报错。`

那如果我们需要这个目录，但是不要其中的图片等资源文件。

### 补充 `.gitkeep`

![/79fadf18-67e3-e6b7-7c38-0454d2444b60.png](/79fadf18-67e3-e6b7-7c38-0454d2444b60.png)

在 a 目录下，创建一个 `.gitkeep` 文件，然后在 .gitignore 中写。这样就保证服务器中不至于没有 a 目录。相当于我想保留一个空的 a 目录在服务器上
