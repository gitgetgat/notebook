<template>
  <div class="box-warpper">
    <el-button
      type="primary"
      @click="guide"
    >å¼€å§‹å¼•å¯¼</el-button>
    <br />
    <br />
    <div id="guideEle">hello!</div>
  </div>
</template>

<script setup>
import introJs from 'intro.js' // å¼•å…¥intro.js
import 'intro.js/introjs.css' // intro.jsçš„åŸºç¡€æ ·å¼æ–‡ä»¶
import { nextTick, onMounted, getCurrentInstance } from 'vue';

// åˆå§‹åŒ–-åŸºç¡€é…ç½®é¡¹
const introConfig = () => {
  const intro = introJs()
  intro.setOptions({
    nextLabel: 'ä¸‹ä¸€æ­¥', // ä¸‹ä¸€ä¸ªçš„æŒ‰é’®æ–‡å­—
    prevLabel: 'ä¸Šä¸€æ­¥', // ä¸Šä¸€ä¸ªæŒ‰é’®æ–‡å­—
    skipLabel: 'è·³è¿‡', // è·³è¿‡æŒ‡å¼•çš„æŒ‰é’®æ–‡å­—
    doneLabel: 'å®Œæˆ', // å®ŒæˆæŒ‰é’®çš„æ–‡å­—
    hidePrev: false, // æ˜¯å¦åœ¨ç¬¬ä¸€æ­¥ä¸­éšè—â€œä¸Šä¸€æ­¥â€æŒ‰é’®;ä¸éšè—ï¼Œå°†å‘ˆçŽ°ä¸ºä¸€ä¸ªç¦ç”¨çš„æŒ‰é’®
    hideNext: false, // æ˜¯å¦åœ¨æœ€åŽä¸€æ­¥ä¸­éšè—â€œä¸‹ä¸€æ­¥â€æŒ‰é’®ï¼ˆåŒæ—¶ä¼šéšè—å®ŒæˆæŒ‰é’®);ä¸éšè—ï¼Œå°†å‘ˆçŽ°ä¸ºä¸€ä¸ªç¦ç”¨çš„æŒ‰é’®
    exitOnEsc: false, // ç‚¹å‡»é”®ç›˜çš„ESCæŒ‰é’®æ˜¯å¦é€€å‡ºæŒ‡å¼•
    exitOnOverlayClick: false, // ç‚¹å‡»é®ç½©å±‚æ—¶æ˜¯å¦é€€å‡ºä»‹ç»
    showStepNumbers: false, // æ˜¯å¦æ˜¾ç¤ºæ­¥éª¤ç¼–å·
    disableInteraction: true, // æ˜¯å¦ç¦ç”¨é«˜äº®æ˜¾ç¤ºæ¡†å†…å…ƒç´ çš„äº¤äº’
    showBullets: true, // æ˜¯å¦æ˜¾ç¤ºé¢æ¿çš„æŒ‡ç¤ºç‚¹
    overlayOpacity: 0.7, // é®ç½©å±‚çš„é€æ˜Žåº¦ 0-1ä¹‹é—´
    helperElementPadding: 10, // é€‰ä¸­çš„æŒ‡å¼•å…ƒç´ å‘¨å›´çš„å¡«å……è·ç¦»
  })
  return intro
}


// é…ç½®å¼•å¯¼æ­¥éª¤
const guide = () => {
  const intro = introConfig()
  intro.setOptions({
    steps: [
      {
        // æŒ‡å®šè¦é«˜äº®æ˜¾ç¤ºçš„ DOM å…ƒç´ çš„é€‰æ‹©å™¨æˆ– DOM å…ƒç´ æœ¬èº«ã€‚
        element: document.querySelector('#guideEle'),
        title: 'Welcome',
        // æ˜¾ç¤ºåœ¨æ­¥éª¤ä¸­çš„ä»‹ç»æ–‡æœ¬ã€‚
        intro: 'Hello World! ðŸ‘‹',
      },
    ],
  })
  nextTick(() => {
    intro.start()
  })
}

onMounted(() => {
  // å»¶è¿Ÿ 1000 æ¯«ç§’ä¿è¯å¯ä»¥èŽ·å–åˆ° DOM å…ƒç´ 
  setTimeout(() => {
    guide();
  }, 1000);
});
</script>

<style>
.box-warpper {
  color: black;
  width: 100%;
  height: 100px;
  background: #fff;
}
.introjs-tooltipReferenceLayer {
  color: black;
}
</style>